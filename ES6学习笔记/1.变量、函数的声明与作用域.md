# 变量的、函数的声明与作用域 #

## 作用域 ##
### ES5中的作用域 ###

* #### 全局作用域（全局变量） ####

  先于所有函数声明，或函数内未使用`var`声明的变量，具有全局作用域，在整个程序中可以被任意对象、函数及模块使用，属于`windows`对象的属性

  > 全局变量优点： 
  >
  > 1、方便调用 
  >
  > 2、不需要当做参数来回传递 

  > 全局变量缺点： 
  >
  > 1、命名冲突 
  >
  > 2、声明周期长，程序运行期间一直存在，长期占用内存空间 
  >
  > 3、难定位，由于所有函数都可以调用，很难定位到该变量是在哪里被  修改了，调试困难 
  >
  > 4、容易与函数中的同名局部变量混淆，代码结构不清晰，在函数中同名局部变量会覆盖全局变量， 
  >
  > 5、一旦修改，将影响所有使用该变量的模块，维护困难 
  >
  > 6、任何使用该变量的地方都会修改变量，在多线程中同步的线程可能会同时使用该变量，容易出现各种bug 
  >
  > 7、模块间耦合性高，后期维护困难 

* #### 局部作用域(函数作用域) ####

  在函数内使用`var`声明的变量或在函数内使用`function`声明的其他函数，只能在该函数内访问到，无法被其他函数或对象引用

### ES6中的作用域 ###

* #### 块级作用域 ####

  由`{}`包裹的区域构成一个块级作用域，内层作用域可以使用`let`命令定义和外层作用域同名的变量，外层代码块无法引用内层代码块的内容，且ES6允许代码块任意嵌套使用

  ```javascript
  {
      let a = 11 
      {
          let a = 12
          console.log(a) //12
      }
      console.log(a) //11  
  }
   console.log(a) //Uncaught ReferenceError: a is not defined
  
  ```

## 变量的声明 ##

|              |                             var                              |                let                 |                      const                      |
| ------------ | :----------------------------------------------------------: | :--------------------------------: | :---------------------------------------------: |
| 作用域       |                    函数：变量声明的函数内                    |      块级：变量声明的代码块内      |            块级：变量声明的代码块内             |
| 变量提升     |      是，变量的声明提升至作用域头部，赋值仍在原位置执行      |                 否                 |                       否                        |
| 重复声明     | 同一作用域，后者覆盖前者；包含作用域，内部覆盖外部；不同作用域，互为独立 | 同一作用域报错；不同作用域互不影响 |       同一作用域报错；不同作用域互不影响        |
| 声明前使用   |                          undefined                           |                报错                |                      报错                       |
| 值是否可修改 |                              是                              |                 是                 | 否，当const声明的为一个对象时，可修改对象的属性 |
|              |                                                              |                                    |                                                 |

